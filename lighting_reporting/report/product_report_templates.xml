<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright NuoBiT Solutions, S.L. (<https://www.nuobit.com>)
     Eric Antones <eantones@nuobit.com>
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl) -->
<odoo>
    <template id="report_product_document">
        <t t-call="web.external_layout">
            <!--t t-set="doc" t-value="doc.with_context({'lang':doc.partner_id.lang})"/-->
            <div class="page">
                <div class="oe_structure"/>
                <div class="row">
                    <div class="col-xs-7">
                        <h1 t-field="doc.reference"/>
                        <h3 t-field="doc.description"/>

                        <div t-if="doc.ean">
                            <strong>EAN</strong>
                            <span t-field="doc.ean"/>
                        </div>

                        <div t-if="doc.catalog_ids">
                            <strong>Catalogs</strong>
                            <span t-esc="', '.join([x.name for x in doc.catalog_ids])"/>
                        </div>

                        <div t-if="doc.family_ids">
                            <strong>Family</strong>
                            <span t-esc="', '.join([x.name for x in doc.family_ids])"/>
                        </div>

                        <div t-if="doc.type_ids">
                            <strong>Types</strong>
                            <span t-esc="', '.join([x.name for x in doc.type_ids])"/>
                        </div>

                        <div t-if="doc.location_ids">
                            <strong>Location</strong>
                            <span t-esc="', '.join([x.name for x in doc.location_ids])"/>
                        </div>

                        <div t-if="doc.installation_ids">
                            <strong>Installations</strong>
                            <span t-esc="', '.join([x.name for x in doc.installation_ids])"/>
                        </div>

                        <div t-if="doc.application_ids">
                            <strong>Applications</strong>
                            <span t-esc="', '.join([x.name for x in doc.application_ids])"/>
                        </div>

                        <div t-if="doc.finish_id">
                            <strong>Finish</strong>
                            <span t-esc="', '.join([x.name for x in doc.finish_id])"/>
                        </div>

                        <table t-if="doc.body_material_ids or doc.diffusor_material_ids or doc.frame_material_ids or doc.reflector_material_ids or doc.blade_material_ids"
                               class="table table-condensed">
                            <tr>
                                <td>
                                    <strong>Material</strong>
                                </td>
                                <td/>
                            </tr>
                            <tr t-if="doc.body_material_ids">
                                <td>
                                    <strong>Body material</strong>
                                </td>
                                <td>
                                    <span t-esc="', '.join([x.name for x in doc.body_material_ids])"/>
                                </td>
                            </tr>

                            <tr t-if="doc.diffusor_material_ids">
                                <td>
                                    <strong>Diffuser material</strong>
                                </td>
                                <td>
                                    <span t-esc="', '.join([x.name for x in doc.diffusor_material_ids])"/>
                                </td>
                            </tr>

                            <tr t-if="doc.frame_material_ids">
                                <td>
                                    <strong>Frame material</strong>
                                </td>
                                <td>
                                    <span t-esc="', '.join([x.name for x in doc.frame_material_ids])"/>
                                </td>
                            </tr>

                            <tr t-if="doc.reflector_material_ids">
                                <td>
                                    <strong>Reflector material</strong>
                                </td>
                                <td>
                                    <span t-esc="', '.join([x.name for x in doc.reflector_material_ids])"/>
                                </td>
                            </tr>

                            <tr t-if="doc.blade_material_ids">
                                <td>
                                    <strong>Blade material</strong>
                                </td>
                                <td>
                                    <span t-esc="', '.join([x.name for x in doc.blade_material_ids])"/>
                                </td>
                            </tr>
                        </table>

                        <table t-if="doc.sealing_id or doc.sealing2_id"
                               class="table table-condensed">
                            <tr>
                                <td>
                                    <strong>Sealing</strong>
                                </td>
                                <td/>
                            </tr>
                            <tr t-if="doc.sealing_id">
                                <td>
                                    <strong>IP</strong>
                                </td>
                                <td>
                                    <span t-field="doc.sealing_id"/>
                                </td>
                            </tr>
                            <tr t-if="doc.sealing2_id">
                                <td>
                                    <strong>IP2</strong>
                                </td>
                                <td>
                                    <span t-field="doc.sealing2_id"/>
                                </td>
                            </tr>
                        </table>

                    </div>
                    <div class="col-xs-5">
                        <t t-set="images"
                           t-value="doc.attachment_ids.filtered(lambda x: x.type_id.code == 'F' and x.attachment_id.index_content == 'image').sorted(lambda x: x.attachment_id.file_size, reverse=True)"/>
                        <img class="img-responsive"
                             t-attf-src="data:image/*;base64,{{images and images[0].datas}}"/>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <div t-if="doc.ik">
                            <strong>IK</strong>
                            <span t-field="doc.ik"/>
                        </div>
                    </div>
                </div>
                <div class="oe_structure"/>
            </div>
        </t>
    </template>

    <template id="report_product">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <!--t t-call="lighting_portal_product_report.report_portalproduct" t-lang="doc.partner_id.lang"/-->
                <t t-call="lighting_reporting.report_product_document"/>
            </t>
        </t>
    </template>
</odoo>